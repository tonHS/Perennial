<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>My Flower Garden!</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: linear-gradient(to bottom, #87CEEB 0%, #b5e8ff 55%, #7ec850 55%, #5a9a3a 100%);
    height: 100vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    font-family: 'Comic Sans MS', 'Chalkboard SE', cursive;
  }

  h1 {
    color: white;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    margin-top: 12px;
    font-size: 2.2rem;
    letter-spacing: 1px;
  }

  #message {
    color: white;
    text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
    font-size: 1.3rem;
    margin-top: 6px;
    min-height: 1.8em;
    text-align: center;
    padding: 0 20px;
  }

  svg { position: fixed; bottom: 0; width: 100vw; max-width: 900px; height: 480px; }

  .sun { fill: #FFE066; filter: drop-shadow(0 0 18px #FFE066); }
  .cloud { fill: white; opacity: 0.85; }
  .ground { fill: #5a9a3a; }
  .dirt { fill: #8B5E3C; }
  .stem-line { stroke: #3a8a3a; stroke-width: 5; fill: none; stroke-linecap: round; }
  .leaf { fill: #4aa84a; stroke: #3a8a3a; stroke-width: 0.8; }
  .seed { fill: #8B5E3C; stroke: #6b4226; stroke-width: 0.8; }

  .wing  { fill: #FF99CC; stroke: #cc6699; stroke-width: 1; }
  .wing2 { fill: #99CCFF; stroke: #6699cc; stroke-width: 1; }
  .bee-wing { fill: rgba(200,220,255,0.6); stroke: #aab; stroke-width: 0.5; }

  #plantBtn {
    position: fixed; bottom: 28px; padding: 14px 36px; font-size: 1.4rem;
    font-family: inherit; background: #FF6B8A; color: white; border: none;
    border-radius: 50px; cursor: pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.25);
    transition: transform 0.15s; z-index: 10;
  }
  #plantBtn:hover { transform: scale(1.08); }
  #plantBtn.hidden { display: none; }
</style>
</head>
<body>

<h1>My Flower Garden!</h1>
<div id="message"></div>

<svg viewBox="0 0 800 480" id="scene">
  <!-- Sun -->
  <circle class="sun" cx="720" cy="52" r="40"/>

  <!-- Clouds -->
  <g class="cloud" transform="translate(60,30)">
    <circle cx="0" cy="0" r="16"/><circle cx="18" cy="-7" r="20"/>
    <circle cx="40" cy="0" r="16"/><circle cx="20" cy="5" r="14"/>
  </g>
  <g class="cloud" transform="translate(300,18)">
    <circle cx="0" cy="0" r="12"/><circle cx="14" cy="-5" r="16"/>
    <circle cx="32" cy="0" r="12"/><circle cx="16" cy="4" r="10"/>
  </g>
  <g class="cloud" transform="translate(520,38)">
    <circle cx="0" cy="0" r="14"/><circle cx="17" cy="-6" r="18"/>
    <circle cx="38" cy="0" r="14"/><circle cx="18" cy="5" r="12"/>
  </g>

  <!-- Ground -->
  <rect class="ground" x="0" y="310" width="800" height="170"/>

  <!-- Dirt patches for each flower -->
  <ellipse class="dirt" cx="110" cy="325" rx="55" ry="14"/>
  <ellipse class="dirt" cx="290" cy="325" rx="55" ry="14"/>
  <ellipse class="dirt" cx="470" cy="325" rx="55" ry="14"/>
  <ellipse class="dirt" cx="650" cy="325" rx="55" ry="14"/>

  <!-- Small grass tufts -->
  <g stroke="#3a8a3a" stroke-width="2" fill="none" stroke-linecap="round">
    <path d="M30,320 Q28,308 32,300"/><path d="M36,320 Q38,306 34,298"/>
    <path d="M200,322 Q198,310 202,302"/><path d="M206,322 Q208,308 204,300"/>
    <path d="M380,320 Q378,308 382,300"/><path d="M386,320 Q388,306 384,298"/>
    <path d="M560,322 Q558,310 562,302"/><path d="M566,322 Q568,308 564,300"/>
    <path d="M740,320 Q738,308 742,300"/><path d="M746,320 Q748,306 744,298"/>
  </g>

  <!-- =============== FLOWER 1: TULIP (red) at x=110 =============== -->
  <g id="f1">
    <ellipse class="seed" cx="110" cy="328" rx="6" ry="4.5" opacity="0" data-part="seed"/>
    <path class="stem-line" d="M110,325 L110,325" opacity="0" data-part="stem" data-top="185"/>
    <g opacity="0" data-part="leaves">
      <path class="leaf" d="M110,275 Q85,265 78,248 Q92,258 110,270"/>
      <path class="leaf" d="M110,255 Q135,243 145,226 Q130,238 110,250"/>
    </g>
    <g opacity="0" data-part="bloom" transform="translate(110,185) scale(0.05)">
      <ellipse cx="-12" cy="-8"  rx="12" ry="26" fill="#FF7799" transform="rotate(-15,-12,-8)"/>
      <ellipse cx="12"  cy="-8"  rx="12" ry="26" fill="#FF7799" transform="rotate(15,12,-8)"/>
      <ellipse cx="-6"  cy="-10" rx="11" ry="28" fill="#FF4466" transform="rotate(-5,-6,-10)"/>
      <ellipse cx="6"   cy="-10" rx="11" ry="28" fill="#FF4466" transform="rotate(5,6,-10)"/>
      <ellipse cx="0"   cy="-14" rx="9"  ry="26" fill="#FF4466"/>
      <ellipse cx="0"   cy="4"   rx="6"  ry="4"  fill="#FFEE55"/>
    </g>
  </g>

  <!-- =============== FLOWER 2: SUNFLOWER at x=290 =============== -->
  <g id="f2">
    <ellipse class="seed" cx="290" cy="328" rx="6" ry="4.5" opacity="0" data-part="seed"/>
    <path class="stem-line" d="M290,325 L290,325" opacity="0" data-part="stem" data-top="165" stroke-width="7"/>
    <g opacity="0" data-part="leaves">
      <path class="leaf" d="M290,280 Q258,268 248,245 Q266,258 290,274"/>
      <path class="leaf" d="M290,255 Q322,240 335,218 Q315,234 290,250"/>
      <path class="leaf" d="M290,300 Q320,292 332,278 Q314,286 290,296"/>
    </g>
    <g opacity="0" data-part="bloom" transform="translate(290,165) scale(0.05)">
      <!-- Sunflower petals in a ring -->
      <ellipse cx="0"   cy="-28" rx="7" ry="16" fill="#FFD700"/>
      <ellipse cx="14"  cy="-24" rx="7" ry="16" fill="#FFD700" transform="rotate(25,14,-24)"/>
      <ellipse cx="25"  cy="-14" rx="7" ry="16" fill="#FFD700" transform="rotate(50,25,-14)"/>
      <ellipse cx="28"  cy="0"   rx="7" ry="16" fill="#FFD700" transform="rotate(75,28,0)"/>
      <ellipse cx="25"  cy="14"  rx="7" ry="16" fill="#FFC800" transform="rotate(100,25,14)"/>
      <ellipse cx="14"  cy="24"  rx="7" ry="16" fill="#FFC800" transform="rotate(125,14,24)"/>
      <ellipse cx="0"   cy="28"  rx="7" ry="16" fill="#FFC800" transform="rotate(150,0,28)"/>
      <ellipse cx="-14" cy="24"  rx="7" ry="16" fill="#FFD700" transform="rotate(155,-14,24)"/>
      <ellipse cx="-25" cy="14"  rx="7" ry="16" fill="#FFD700" transform="rotate(180,-25,14)"/>
      <ellipse cx="-28" cy="0"   rx="7" ry="16" fill="#FFD700" transform="rotate(205,-28,0)"/>
      <ellipse cx="-25" cy="-14" rx="7" ry="16" fill="#FFD700" transform="rotate(230,-25,-14)"/>
      <ellipse cx="-14" cy="-24" rx="7" ry="16" fill="#FFD700" transform="rotate(255,-14,-24)"/>
      <!-- Brown center -->
      <circle cx="0" cy="0" r="14" fill="#8B4513"/>
      <circle cx="0" cy="0" r="10" fill="#6B3410"/>
      <!-- Seed dots -->
      <circle cx="-3" cy="-3" r="1.5" fill="#4a2508"/>
      <circle cx="3"  cy="-3" r="1.5" fill="#4a2508"/>
      <circle cx="0"  cy="3"  r="1.5" fill="#4a2508"/>
      <circle cx="-5" cy="2"  r="1.5" fill="#4a2508"/>
      <circle cx="5"  cy="2"  r="1.5" fill="#4a2508"/>
    </g>
  </g>

  <!-- =============== FLOWER 3: DAISY at x=470 =============== -->
  <g id="f3">
    <ellipse class="seed" cx="470" cy="328" rx="6" ry="4.5" opacity="0" data-part="seed"/>
    <path class="stem-line" d="M470,325 L470,325" opacity="0" data-part="stem" data-top="200"/>
    <g opacity="0" data-part="leaves">
      <path class="leaf" d="M470,285 Q445,275 438,258 Q452,268 470,280"/>
      <path class="leaf" d="M470,268 Q495,255 505,240 Q490,250 470,263"/>
    </g>
    <g opacity="0" data-part="bloom" transform="translate(470,200) scale(0.05)">
      <!-- White daisy petals -->
      <ellipse cx="0"   cy="-20" rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5"/>
      <ellipse cx="10"  cy="-18" rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(30,10,-18)"/>
      <ellipse cx="18"  cy="-10" rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(60,18,-10)"/>
      <ellipse cx="20"  cy="0"   rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(90,20,0)"/>
      <ellipse cx="18"  cy="10"  rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(120,18,10)"/>
      <ellipse cx="10"  cy="18"  rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(150,10,18)"/>
      <ellipse cx="0"   cy="20"  rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(180,0,20)"/>
      <ellipse cx="-10" cy="18"  rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(210,-10,18)"/>
      <ellipse cx="-18" cy="10"  rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(240,-18,10)"/>
      <ellipse cx="-20" cy="0"   rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(270,-20,0)"/>
      <ellipse cx="-18" cy="-10" rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(300,-18,-10)"/>
      <ellipse cx="-10" cy="-18" rx="5" ry="14" fill="white" stroke="#ddd" stroke-width="0.5" transform="rotate(330,-10,-18)"/>
      <!-- Yellow center -->
      <circle cx="0" cy="0" r="9" fill="#FFD700"/>
      <circle cx="0" cy="0" r="6" fill="#FFAA00"/>
    </g>
  </g>

  <!-- =============== FLOWER 4: PANSY (purple) at x=650 =============== -->
  <g id="f4">
    <ellipse class="seed" cx="650" cy="328" rx="6" ry="4.5" opacity="0" data-part="seed"/>
    <path class="stem-line" d="M650,325 L650,325" opacity="0" data-part="stem" data-top="210"/>
    <g opacity="0" data-part="leaves">
      <path class="leaf" d="M650,290 Q625,280 618,264 Q632,274 650,285"/>
      <path class="leaf" d="M650,275 Q675,262 685,248 Q670,258 650,270"/>
    </g>
    <g opacity="0" data-part="bloom" transform="translate(650,210) scale(0.05)">
      <!-- Pansy: overlapping round petals -->
      <!-- Top two petals (deep purple) -->
      <ellipse cx="-10" cy="-12" rx="14" ry="12" fill="#7B2D8E" transform="rotate(-10,-10,-12)"/>
      <ellipse cx="10"  cy="-12" rx="14" ry="12" fill="#7B2D8E" transform="rotate(10,10,-12)"/>
      <!-- Side petals (lighter purple) -->
      <ellipse cx="-14" cy="4"  rx="13" ry="10" fill="#9B59B6" transform="rotate(-20,-14,4)"/>
      <ellipse cx="14"  cy="4"  rx="13" ry="10" fill="#9B59B6" transform="rotate(20,14,4)"/>
      <!-- Bottom petal (yellow-purple) -->
      <ellipse cx="0"   cy="12" rx="12" ry="11" fill="#D4A5E5"/>
      <!-- Face markings -->
      <path d="M-4,-2 Q0,6 4,-2" stroke="#3d1452" stroke-width="1.5" fill="none"/>
      <path d="M-8,0 Q-4,4 0,0" stroke="#3d1452" stroke-width="1" fill="none"/>
      <path d="M0,0 Q4,4 8,0" stroke="#3d1452" stroke-width="1" fill="none"/>
      <!-- Center dot -->
      <circle cx="0" cy="2" r="3" fill="#FFD700"/>
    </g>
  </g>

  <!-- Butterfly (appears at end) -->
  <g id="butterfly" opacity="0" transform="translate(400,170)">
    <ellipse class="wing"  cx="-10" cy="0" rx="12" ry="8"/>
    <ellipse class="wing2" cx="10"  cy="0" rx="12" ry="8"/>
    <ellipse cx="0" cy="0" rx="2" ry="6" fill="#663366"/>
  </g>

  <!-- Bumblebee (appears at end) -->
  <g id="bee" opacity="0" transform="translate(300,180)">
    <ellipse cx="0" cy="0" rx="8" ry="6" fill="#FFD700" stroke="#222" stroke-width="1"/>
    <line x1="-3" y1="-5" x2="-3" y2="5" stroke="#222" stroke-width="1.5"/>
    <line x1="3" y1="-5" x2="3" y2="5" stroke="#222" stroke-width="1.5"/>
    <ellipse class="bee-wing" cx="-5" cy="-7" rx="6" ry="4" transform="rotate(-20,-5,-7)"/>
    <ellipse class="bee-wing" cx="5"  cy="-7" rx="6" ry="4" transform="rotate(20,5,-7)"/>
  </g>

  <!-- Flower labels (appear after bloom) -->
  <text id="label1" x="110" y="420" text-anchor="middle" font-family="Comic Sans MS, cursive"
        font-size="16" fill="white" opacity="0">Tulip</text>
  <text id="label2" x="290" y="420" text-anchor="middle" font-family="Comic Sans MS, cursive"
        font-size="16" fill="white" opacity="0">Sunflower</text>
  <text id="label3" x="470" y="420" text-anchor="middle" font-family="Comic Sans MS, cursive"
        font-size="16" fill="white" opacity="0">Daisy</text>
  <text id="label4" x="650" y="420" text-anchor="middle" font-family="Comic Sans MS, cursive"
        font-size="16" fill="white" opacity="0">Pansy</text>
</svg>

<button id="plantBtn" onclick="startGarden()">Plant the Garden!</button>

<script>
const msg = document.getElementById('message');
const btn = document.getElementById('plantBtn');
let running = false;

/* ── animation helpers ── */

function ease(t) { return t < 0.5 ? 2*t*t : -1+(4-2*t)*t; }

function animVal(from, to, duration, onTick) {
  return new Promise(resolve => {
    const s = performance.now();
    (function tick(now) {
      const t = Math.min((now - s) / duration, 1);
      onTick(from + (to - from) * ease(t));
      t < 1 ? requestAnimationFrame(tick) : resolve();
    })(performance.now());
  });
}

function fadeIn(el, dur) {
  return animVal(0, 1, dur, v => el.setAttribute('opacity', v));
}

function wait(ms) { return new Promise(r => setTimeout(r, ms)); }

/* ── per-flower growing sequence ── */

async function growFlower(id) {
  const g      = document.getElementById(id);
  const seed   = g.querySelector('[data-part="seed"]');
  const stem   = g.querySelector('[data-part="stem"]');
  const leaves = g.querySelector('[data-part="leaves"]');
  const bloom  = g.querySelector('[data-part="bloom"]');

  const cx     = parseFloat(seed.getAttribute('cx'));
  const groundY = 325;
  const topY   = parseFloat(stem.getAttribute('data-top'));

  // seed
  await fadeIn(seed, 1000);
  await wait(400);

  // stem grows
  stem.setAttribute('opacity', 1);
  await animVal(groundY, topY, 2800, y => {
    stem.setAttribute('d', `M${cx},${groundY} L${cx},${y}`);
  });
  await wait(300);

  // leaves
  await fadeIn(leaves, 1500);
  await wait(300);

  // bloom (scale up)
  bloom.setAttribute('opacity', 1);
  await animVal(0.05, 1, 2800, s => {
    bloom.setAttribute('transform', `translate(${cx},${topY}) scale(${s})`);
  });
}

/* ── critters ── */

function floatButterfly() {
  const bf = document.getElementById('butterfly');
  let a = 0;
  (function tick() {
    a += 0.02;
    const x = 400 + Math.sin(a) * 200;
    const y = 165 + Math.cos(a * 1.3) * 40;
    const w = 0.55 + 0.45 * Math.sin(a * 8);
    bf.setAttribute('transform', `translate(${x},${y}) scale(1,${w})`);
    requestAnimationFrame(tick);
  })();
}

function floatBee() {
  const bee = document.getElementById('bee');
  let a = Math.PI;
  (function tick() {
    a += 0.03;
    const x = 350 + Math.sin(a * 0.7) * 180;
    const y = 190 + Math.cos(a * 1.1) * 35;
    const w = 0.5 + 0.5 * Math.sin(a * 12);
    bee.setAttribute('transform', `translate(${x},${y}) scale(1,1) rotate(${Math.sin(a)*8})`);
    // flap wings via scale hack on wing elements
    bee.querySelectorAll('.bee-wing').forEach(wing => {
      wing.setAttribute('ry', 4 * (0.4 + 0.6 * Math.abs(Math.sin(a * 10))));
    });
    requestAnimationFrame(tick);
  })();
}

/* ── reset everything ── */

function resetAll() {
  ['f1','f2','f3','f4'].forEach(id => {
    const g = document.getElementById(id);
    g.querySelector('[data-part="seed"]').setAttribute('opacity', 0);
    const stem = g.querySelector('[data-part="stem"]');
    stem.setAttribute('opacity', 0);
    const cx = parseFloat(g.querySelector('[data-part="seed"]').getAttribute('cx'));
    stem.setAttribute('d', `M${cx},325 L${cx},325`);
    g.querySelector('[data-part="leaves"]').setAttribute('opacity', 0);
    const bloom = g.querySelector('[data-part="bloom"]');
    bloom.setAttribute('opacity', 0);
    const topY = stem.getAttribute('data-top');
    bloom.setAttribute('transform', `translate(${cx},${topY}) scale(0.05)`);
  });
  document.getElementById('butterfly').setAttribute('opacity', 0);
  document.getElementById('bee').setAttribute('opacity', 0);
  for (let i = 1; i <= 4; i++) document.getElementById('label'+i).setAttribute('opacity', 0);
}

/* ── main sequence ── */

const flowerInfo = [
  { id: 'f1', name: 'tulip',     label: 'label1',
    msgSeed: "Let's plant our first seed... a tulip!",
    msgGrow: "The tulip is reaching for the sun!",
    msgBloom: "A beautiful red tulip!" },
  { id: 'f2', name: 'sunflower', label: 'label2',
    msgSeed: "Now let's plant a sunflower seed!",
    msgGrow: "Wow, the sunflower is growing tall!",
    msgBloom: "A big golden sunflower!" },
  { id: 'f3', name: 'daisy',     label: 'label3',
    msgSeed: "Time for a daisy seed!",
    msgGrow: "Up comes the little daisy!",
    msgBloom: "Such a pretty white daisy!" },
  { id: 'f4', name: 'pansy',     label: 'label4',
    msgSeed: "Last one — a purple pansy seed!",
    msgGrow: "The pansy is growing!",
    msgBloom: "A lovely purple pansy!" },
];

async function startGarden() {
  if (running) return;
  running = true;
  btn.classList.add('hidden');
  resetAll();

  msg.textContent = "Let's grow a flower garden!";
  await wait(1500);

  for (const f of flowerInfo) {
    msg.textContent = f.msgSeed;
    await wait(800);

    msg.textContent = f.msgGrow;
    await growFlower(f.id);

    msg.textContent = f.msgBloom;
    await fadeIn(document.getElementById(f.label), 800);
    await wait(1200);
  }

  // Critters arrive
  msg.textContent = "A butterfly and a bee love our garden!";
  await fadeIn(document.getElementById('butterfly'), 1200);
  floatButterfly();
  await wait(600);
  await fadeIn(document.getElementById('bee'), 1200);
  floatBee();
  await wait(2500);

  msg.textContent = "You grew a whole garden! Want to grow it again?";
  btn.textContent = "Grow Again!";
  btn.classList.remove('hidden');
  running = false;
}
</script>
</body>
</html>
